"use strict";var flag=!0,list2=[];function getshop(){$.ajax({url:"../lib/json/shoplist.json",dataType:"json",success:function(t){$(".pagi").pagination({pageCount:Math.ceil(t.length/16),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(n){var i=n.getCurrent();bindHtml(t.slice(16*(i-1),16*i))}}),bindHtml(t.slice(0,16)),list2=t}})}function bindHtml(n){var i="";n.forEach(function(n){i+='\n    <li class="comm-item" data-id="'.concat(n.id,'">\n    <a href="#">\n        <img src="').concat(n.imgaddress,'" alt="">\n        <p class="name">').concat(n.name,'</p>\n        <p class="desc">').concat(n.elementDess,'</p>\n        <p class="price"><i>¥</i><em>').concat(n.price,'</em></p>\n    </a>\n    <span class="car"></span>\n</li>\n    ')}),$(".shoplist").html(i)}function alllgetList(){$.ajax({url:"../lib/json/index-list.json",dataType:"json",success:function(n){var i="";n.forEach(function(n){i+="<li >\n             ",n.navname.forEach(function(n){i+='<a href="#"class="">'.concat(n.navsonname,"</a>")}),i+="</li>"}),$(".index-list-nav").html(i)}})}function allgetSonList(){$.ajax({url:"../lib/json/index-list.json",dataType:"json",success:function(n){var i="";n.forEach(function(n){i+='<div class="index-list-box">\n                 <div class="sort-btn">',n.sortbtn.forEach(function(n){i+='<a href="#">'.concat(n.titlename,"</a>")}),i+="</div>",n.title.forEach(function(n){i+='<div class="cate-list">',i+="<dl><dt>",i+='<a href="#">\n                     '.concat(n.name,"\n                 </a>"),i+="</dt>\n                     <dd>",n.list.forEach(function(n){i+='<a href="#" class="">\n                             '.concat(n.hotworld,"\n                             </a>")}),i+="</dd>\n                     </dl>",i+="</div>"}),i+=' <div class="imgbox">\n                 <div class="imglist">',n.imglist.forEach(function(n){i+='<a href="#">\n                     <img src="'.concat(n.adress,'" alt="">\n                 </a>')}),i+="</div>\n                 </div>",i+="</div>"}),$(".listbox").html(i)}})}getshop(),$(".shoplist").on("click","li",function(){for(var n=$(this).data("id"),i={},t=0;t<list2.length;t++)if(list2[t].id===n){i=list2[t];break}localStorage.setItem("goods_info",JSON.stringify(i)),window.location.href="./detail.html"}),alllgetList(),allgetSonList(),$(".all").mouseover(function(){$(".index-list").css("display","block"),$(".index-list-nav").children().mouseenter(function(){$(this).addClass("current").siblings().removeClass("current"),$(".banner").mouseenter(function(){$(".index-list-nav").children().removeClass("current")})}),$(".listbox").prev(".index-list-nav").children().hover(function(){$(this).parent(".index-list-nav").next(".listbox").children().eq($(this).index()).show(),$(this).parent(".index-list-nav").next(".listbox").children().eq($(this).index()).hover(function(){$(this).show()},function(){$(this).hide()})},function(){$(this).parent(".index-list-nav").next(".listbox").children().eq($(this).index()).hide()})}),$(".bannerbox").mouseenter(function(){$(".index-list").css("display","none")});